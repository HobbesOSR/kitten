# $Id: nway.bochsrc,v 1.2 2007/01/05 16:18:51 hudson Exp $
#
# N-Way lightweight kernel Bochs configuration
#
# Simulate a fairly stripped down 2 CPU x 2 core system with a PCI
# bus an ne2k card installed.
#

log: bochsout.txt
debugger_log: -

# display_library: nogui
romimage: file=$BXSHARE/BIOS-bochs-latest, address=0xe0000
vgaromimage: file=$BXSHARE/VGABIOS-lgpl-latest
vga_update_interval: 10

# Dual CPU, dual core, one thread per core
#cpu: count=2:2:1, ips=10000000, reset_on_triple_fault=1
cpu: count=2:2:1, ips=10000000, reset_on_triple_fault=1
megs: 256

ata0: enabled=1, ioaddr1=0x1f0, ioaddr2=0x3f0, irq=14

ata0-master: type=cdrom, path=./image.iso
#ata0-slave: type=cdrom, path="../linux-2.6.19.1/arch/i386/boot/image.iso"

#boot: disk
boot: cdrom

panic: action=ask
error: action=report
info: action=report
debug: action=ignore


# We really should use the comport for our serial console in our LWK.
# This is still to be determined.
com1: enabled=1, mode=file, dev=serial.out

#ne2k: enabled=1, ioaddr=0x240, irq=9, mac=b0:c4:20:00:00:00, ethmod=linux, ethdev=eth0
#pnic: enabled=1,ioaddr=0x240, irq=9, mac=b0:c4:20:00:00:00, ethmod=linux, ethdev=eth0

#i440fxsupport: enabled=1, slot1=ne2k

